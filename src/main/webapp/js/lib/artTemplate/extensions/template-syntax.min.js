/*
 * artTemplate - Syntax Extensions
 * https://github.com/aui/artTemplate
 * Released under the MIT, BSD, and GPL Licenses
 */
(function(a){a.openTag="{";a.closeTag="}";a.parser=function(f){f=f.replace(/^\s/,"");var c=f.split(" ");var e=c.shift();var d=a.keywords;var b=d[e];if(b&&d.hasOwnProperty(e)){c=c.join(" ");f=b.call(f,c)}else{if(a.prototype.hasOwnProperty(e)){c=c.join(",");f="=="+e+"("+c+");"}else{f=f.replace(/[\s;]*$/,"");f="="+f}}return f};a.keywords={"if":function(b){return"if("+b+"){"},"else":function(b){b=b.split(" ");if(b.shift()==="if"){b=" if("+b.join(" ")+")"}else{b=""}return"}else"+b+"{"},"/if":function(){return"}"},each:function(f){f=f.split(" ");var e=f[0]||"$data";var b=f[1]||"as";var g=f[2]||"$value";var d=f[3]||"$index";var c=g+","+d;if(b!=="as"){e="[]"}return"$each("+e+",function("+c+"){"},"/each":function(){return"});"},echo:function(b){return"print("+b+");"},include:function(c){c=c.split(" ");var e=c[0];var d=c[1];var b=e+(d?(","+d):"");return"include("+b+");"}};a.helper("$each",function(e,f){var c=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"};if(c(e)){for(var d=0,b=e.length;d<b;d++){f.call(e,e[d],d,e)}}else{for(d in e){f.call(e,e[d],d)}}})})(template);